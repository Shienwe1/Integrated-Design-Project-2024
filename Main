from YOLO_inference import YOLOInference

def main():
    # Set the model path and input source
    yolo_model_path = '/home/user/YOLO/my_model.pt'  # âœ… Update this path to your actual model file
    yolo_source = 'picamera0'  # ðŸ”„ Options: 'video.mp4', 'usb0', 'picamera0', 'path/to/folder', or 'path/to/image.jpg'

    # Set resolution (change to match your camera or source if needed)
    resolution = (640, 480)

    # Initialize YOLO Inference
    try:
        print("[INFO] Initializing YOLO Inference...")
        yolo_inference = YOLOInference(
            model_path=yolo_model_path,
            source=yolo_source,
            thresh=0.5,
            resolution=resolution,
            record=False  # Set to True if you want to save the output video
        )

        print("[INFO] Starting Inference...")
        yolo_inference.run_inference()

    except ValueError as ve:
        print(f"[ERROR] {ve}")

    except KeyboardInterrupt:
        print("[INFO] Inference stopped by user.")

    finally:
        yolo_inference.cleanup()
        print("[INFO] Cleanup completed.")

if __name__ == '__main__':
    main()


